<?php
/**
 * ------------------------ 
 *  版权所有  www.tecmz.com
 *  商业版本请购买正版授权使用
 * ------------------------
*/ namespace Module\Member\Auth; use Illuminate\Support\Facades\Session; use Module\Member\Util\MemberGroupUtil; use Module\Member\Util\MemberVipUtil; class MemberUser { public static function id() { return intval(Session::get('memberUserId', 0)); } public static function user() { return Session::get('_memberUser', null); } public static function isMine($H7GUl) { return self::id() > 0 && self::id() == $H7GUl; } public static function isNotMine($H7GUl) { return !self::isMine($H7GUl); } public static function isLogin() { return self::id() > 0; } public static function isNotLogin() { return !self::isLogin(); } public static function isGroup($rL3yH) { goto H05QW; YlDyY: if (!is_array($rL3yH)) { $rL3yH = array(intval($rL3yH)); } goto Ugdwe; H05QW: if (self::isNotLogin()) { return false; } goto YlDyY; lIFGa: return in_array($NxQml, $rL3yH); goto w2ZW5; Ugdwe: $NxQml = intval(self::get('groupId', 0)); goto mA3kU; mA3kU: if ($NxQml == 0) { $NxQml = MemberGroupUtil::defaultGroupId(); } goto lIFGa; w2ZW5: } public static function isVip($tHhMk) { goto KKtAT; O3nA1: return in_array($ZSIA_, $tHhMk); goto JMYJv; IW8Vp: $ZSIA_ = 0; goto mkYHw; k_MRe: $ziPEg = MemberVipUtil::getMemberVip(self::user()); goto IW8Vp; mkYHw: if (!empty($ziPEg)) { $ZSIA_ = $ziPEg['id']; } goto O3nA1; oRgVF: if (!is_array($tHhMk)) { $tHhMk = array(intval($tHhMk)); } goto k_MRe; KKtAT: if (self::isNotLogin()) { return false; } goto oRgVF; JMYJv: } public static function get($T_BMM = null, $pFp4C = null) { goto OP_Ro; OP_Ro: $gLrKQ = self::user(); goto y1tFY; y1tFY: if (null === $T_BMM) { return $gLrKQ; } goto adPrb; adPrb: return isset($gLrKQ[$T_BMM]) ? $gLrKQ[$T_BMM] : $pFp4C; goto Tp29U; Tp29U: } }